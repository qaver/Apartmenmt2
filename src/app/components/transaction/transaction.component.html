@if (getTransactionType() === TRASACTIONTYPE.TRANASACTONS)
{
  <h2 style= "width:100%;background-color: rgb(24,93,150);color:white;">Transactions</h2>
  <div id="listoftransactions">
    <button type="button" [disabled]="false" id="receipt" class="TransactionButton" (click)="receipt()">Receipt</button><br>
    <button type="button" [disabled]="false" id="payment" class="TransactionButton" (click)="payment()">Payment</button><br>
    <button type="button" [disabled]="false" id="journalvoucher" class="TransactionButton" (click)="journalVoucher()">Journal Voucher </button><br>
    <button type="button" [disabled]="false" id="debitnote" class="TransactionButton" (click)="debitNote()">Debit Note</button><br>
    <button type="button" [disabled]="false" id="creditnote" class="TransactionButton" (click)="creditNote()">Credit Note</button><br>
    <button type="button" [disabled]="false" id="openingvoucher" class="TransactionButton" (click)="openingBalance()">Opening Balance</button><br>
</div>
}
@else
{
  <app-messages></app-messages>
 <!--<p-table [value]="products">
    <ng-template pTemplate="header">
        <tr>
            <th>Code</th>
            <th>Name</th>
            <th>Category</th>
            <th>Status</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-product>
        <tr>
            <td>
            <p-select size="large" (onChange)="webAcsChange($event)" [disabled]="false" [editable]="true" [inputSize]="8" [options]="statuses" [(ngModel)]="product.inventoryStatus" optionLabel="label" optionValue="value" appendTo="body"></p-select>
            </td>
        </tr>
        <td>

          <input class="custom-input"    list="AccountTypes" id="AccountType" name="AccountType" placeholder="Debtor">
          <datalist  id="AccountTypes">
              <option *ngFor="let option of account1" [value]="option.name"></option>
          </datalist>
        </td>
    </ng-template>
</p-table>
-->
<div id="transaction"></div>
<button type="button" [disabled]="false" id="exit" class="btnTransction" (click)="transaction()">Exit</button>
<button type="button" [disabled]="false" id="getvoucher" class="btnTransction" (click)="getVoucher(false,false)">Get</button>
<button type="button" [disabled]="false" id="addvoucher" class="btnTransction" (click)="saveVoucher()">Save</button>
<button type="button" [disabled]="false" id="deletevoucher" class="btnTransction" (click)="deleteVoucher()">Delete</button>
<button type="button" [disabled]="false" id="deletevoucher" class="btnTransction" (click)="printVoucher()">Print</button>
<button type="button" [disabled]="false" id="editvoucher" class="btnTransction" (click)="emailVoucher()">Email</button>
<button type="button" [disabled]="false" id="copyvoucher" class="btnTransction" (click)="CopyVoucher()">Copy</button>


@if(showCopyVoucherList)
{
    <div>
         <label class="custom-label" for="copyVoucherNo">Voucher List</label>
          <input class="custom-input" [(ngModel)]="copyVoucherNo"  (change)="copyVocherNoChange()" list="copyVoucherNos" id="copyVoucherNo" name="copyVoucherNo" placeholder="Vouchers">

          <datalist  id="copyVoucherNos"  [style]="{'width':'100%'}">
              @for (voucher of copyVoucherList; track voucher)
              {
                <option>{{voucher.VoucherNo}}</option>
              }
           </datalist>
      </div>
}
  <h2 style= "background-color: rgb(24,93,150);color:white;">{{getTransationTitle()}}</h2>
  <br>
    <p-table #myTab1 [value]="headerGrid"
                    [scrollable]="false"
                    showGridlines
                    scrollHeight="400px"
                    class="custom-height-table"
                    (onEditComplete)="onEditComplete($event)"
    >
          <ng-template pTemplate="header">
            <tr>

            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-headerRow>
            <tr>
              <td class="form-control-group" style="width:150px;text-align:left;background-color: rgb(24,93,150);color:white;">{{headerRow.fieldHeading1}}</td>
               @if (headerRow.fieldType1 === GRIDFIELDTYPE.LABEL)
               {
                  <td class="form-control-group" style="width:150px;text-align:left;background-color: grey;color:white;">{{headerRow.fieldValue1}}</td>
               }
               @else
               {
                <td style="width:250px;" pEditableColumn  [pEditableColumnField]="headerRow.fieldHeading1">
                    <p-cellEditor>
                        <ng-template pTemplate="input">
                          @if (headerRow.fieldType1 === GRIDFIELDTYPE.SELECTION)
                          {
                            <!--<p-select  appendTo="body"[options]="account1Names"  [style]="{'width':'100%','scrollable':'true','scrollHeight':'100px'}" [editable]="true"  [(ngModel)]="headerRow.fieldValue1" optionLabel="name" class="w-full md:w-56" /> -->
                            <input  (blur)="onPaymentModeSelected($event)" [(ngModel)]="headerRow.fieldValue1" [style]="{'width':'100%'}" class="custom-input"    list="AccountTypes" id="AccountType" name="AccountType" placeholder="Cash/Bank">
                            <datalist  id="AccountTypes"  [style]="{'width':'100%'}">
                                @for (account of account2; track account)
                                {
                                  <option>{{account.Name}}</option>
                                }
                            </datalist>
                          }
                          @else
                          {
                            <input pInputText type="text" [(ngModel)]="headerRow.fieldValue1" style="height:25px;" />
                          }
                        </ng-template>
                        <ng-template pTemplate="output"  >
                            {{headerRow.fieldValue1}}
                        </ng-template>
                    </p-cellEditor>
                </td>
              }
                <td style="width:150px;text-align:left;background-color: rgb(24,93,150);color:white;" >{{headerRow.fieldHeading2}}</td>
               @if (headerRow.fieldType2 === GRIDFIELDTYPE.LABEL)
               {
                  <td class="form-control-group" style="width:150px;text-align:left;background-color: grey;color:white;">{{headerRow.fieldValue2}}</td>
               }
               @else
                {
                  <td style="width:100px;"  pEditableColumn>
                      <p-cellEditor>
                          <ng-template pTemplate="input">
                            @if (headerRow.fieldType2 === GRIDFIELDTYPE.DATEFIELD)
                            {
                              <input pInputText type="text" [(ngModel)]="headerRow.fieldValue2"  style="height:25px;"/>
                            }
                            @else
                            {
                              <input pInputText type="text" [(ngModel)]="headerRow.fieldValue2"  style="height:25px;" />
                            }

                          </ng-template>
                          <ng-template pTemplate="output">
                              {{ headerRow.fieldValue2 }}
                          </ng-template>
                      </p-cellEditor>
                  </td>
                }
            </tr>
        </ng-template>
  </p-table>
  <br>
  <br>
    <p-table #ptable [value]="bodyGrid"
                    showGridlines
                    [scrollable]="true"
                    [columns]="bodyCols"
                    class="custom-height-table"
                    scrollHeight="700px">
        <ng-template pTemplate="header">
            <tr>
                @for (col of bodyCols; track ['field'])
                {

                    <th style="text-align:center;background-color: rgb(24,93,150);color:white;">{{col.headerText}}</th>
                }
            </tr>
        </ng-template>

        <ng-template pTemplate="body" let-gridRow let-ri="rowIndex">
            <tr>
              <td  class="form-control-group" style="width:30px;text-align:right;background-color: rgb(24,93,150);color:white;">{{gridRow.sno}}</td>
                <td pEditableColumn>
                    <p-cellEditor>
                        <ng-template pTemplate="input">
                          <!--  <input #input pInputText type="text"  [id]="'input-' + ri + '-' + 1"
                                  [(ngModel)]="gridRow.account_Name"  (keydown.enter)="onEnter($any($event),ptable, ri, 1)" /> -->
                        <input  [(ngModel)]="gridRow.account_Name" [style]="{'width':'100%'}" class="custom-input"    list="AccountTypes" id="AccountType" name="AccountType" placeholder="Account1 Name">
                            <datalist  id="AccountTypes"  [style]="{'width':'100%'}">
                                @for (account of account1; track account)
                                {
                                  <option>{{account.Name}}</option>
                                }
                            </datalist>
                        </ng-template>
                        <ng-template pTemplate="output">
                            {{ gridRow.account_Name}}
                        </ng-template>
                    </p-cellEditor>
                </td>
                <td style="width:150px;text-align:right;" pEditableColumn>
                    <p-cellEditor>
                        <ng-template pTemplate="input">
                            <input #input pInputText type="text"  [id]="'input-' + ri + '-' + 2"
                                  [(ngModel)]="gridRow.amount" style="height:25px;" (keydown.enter)="onEnter($any($event),ptable, ri, 2)" />
                        </ng-template>
                        <ng-template pTemplate="output">
                            {{ gridRow.amount }}
                        </ng-template>
                    </p-cellEditor>
                </td>
                @if(!gridRow.rctpmt)
                {
                    <td style="width:30px;" pEditableColumn>
                        <p-cellEditor>
                            <ng-template pTemplate="input">
                                <input  [(ngModel)]="gridRow.drcr" [style]="{'width':'100%'}" class="custom-input"    list="DrCrTypes" id="DrCrType" name="DrCrType" placeholder="Dr/Cr">
                            <datalist  id="DrCrTypes"  [style]="{'width':'100%'}">
                                  <option>Dr</option>
                                  <option>Cr</option>

                            </datalist>
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{ gridRow.drcr }}
                            </ng-template>
                        </p-cellEditor>
                    </td>
                }
                  <td pEditableColumn>
                    <p-cellEditor>
                        <ng-template pTemplate="input">
                            <input pInputText type="text"
                                  [(ngModel)]="gridRow.narration"  style="height:25px;" (keydown.enter)="onEnter($any($event),ptable, ri, 4)"/>
                        </ng-template>
                        <ng-template pTemplate="output">
                            {{ gridRow.narration }}
                        </ng-template>
                    </p-cellEditor>
                </td>
            </tr>
        </ng-template>
    </p-table>

}
<!--<div class="heroes-menu">
  @for (hero of heroes; track hero) {
    <a
      routerLink="/account/{{hero.id}}">
      {{hero.name}}
    </a>
  }
</div>-->
<!--<div>
  <button class="SettingsButton" routerLink="../globalsettings" id="settings">Settings</button>

</div>-->
<!-- hero-search></app-hero-search>-->
